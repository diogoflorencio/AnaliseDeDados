---
title: "Problema 1 - Checkpoint 4 AD1 UFCG"
author: "Diogo Florêncio"
output:
  html_notebook:
    theme: readable
    toc: true
    toc_float: true
    fig_width: 5
    fig_height: 4
editor_options: 
  chunk_output_type: inline
---
```{r}
library(tidyr)
library(dplyr)
library(ggplot2)
dados <- read.csv("series_from_imdb.csv",encoding="UTF-8")
```
#Qual a melhor série?
A melhor série deve ter episódios bem avaliados, além de manter regularidade na avaliação dos episódios. Seguindo esses critérios, o gráfico exibe a relacação entre mediana e variância para os episódios de cada série. Quanto mais acima e a esquerda a série está melhor ela é.
```{r}
dados %>% 
    group_by(serie = series_name) %>% 
    summarise(mediana = median(UserRating),
              variancia = var(UserRating)) %>%
    arrange(desc(mediana),variancia)%>%
    slice(1:10) %>% 
  ggplot(aes(x = variancia, y = mediana, color = serie)) + 
  geom_point(size = 6) + 
  theme_classic() +
  ggtitle("Top 10 melhores séries")
```
###As melhores séries tem mais ou menos episódios?
Uma série com poucos episódios teria mais chances de manter a regularidade e boa avaliação dos episódios? Afim de repsonder a pergunta, o gráfico exibe a relacação entre mediana, variância e quantidade para os episódios de cada série. Os pontos mais acima e a esquerda referenciam as melhores séries. Quanto maior for o ponto mais episódios a série tem. 
```{r}
dados %>% 
    group_by(serie = series_name) %>% 
    summarise(mediana = median(UserRating),
              variancia = var(UserRating), 
              qtd_episodios = n()) %>%
  ggplot(aes(x = variancia, y = mediana, size = qtd_episodios)) + 
  geom_point() + 
  theme_classic() +
  ggtitle("")
```
# Qual série tem a temporada mais irregular?
Uma temporada irregular seria uma temporada na qual seus episódios tem avaliação bastante variada. Deste modo, indicando a falta de regularidade na qualidade da série. O grafico de barras exibe as 10 séries que tem maior variancia na avaliação de seus episódios por temporada.  
```{r}
dados %>% 
  group_by(serie = series_name)%>%
  summarise(variancia_episodios = var(UserRating))%>%
  top_n(10)%>% 
  ggplot(aes(x = serie, y = variancia_episodios)) + 
  geom_col(width = 0.7, ) + 
  scale_y_continuous(breaks=seq(0, 10, 1)) +
  coord_flip() + ggtitle("Top 10 séries com temporadas mais irregulares")
```

